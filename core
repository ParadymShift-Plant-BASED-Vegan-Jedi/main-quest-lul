$if[$message[1]==&&$getUserVar[reg]==undefined]
    $setUserVar[reg;1]
    $setUserVar[mqlvl;1]
    $setUserVar[mqxp;50]
    $setUserVar[mqtd;0]
    $setUserVar[mqtdm;0]
    $setUserVar[mqrd;false]
    $sendMessage[Congratulations, $nickname[$authorID]! 🎉😄👏👏 
You're now officially registered for Main Quest: Level Up Life! 
     
For a guide of all commands, use the following command:
     
!mq guide]
    $elseif[$message[1]==&&$getUserVar[reg]==1]
    $sendMessage[$nickname[$authorID] is already registered on Main Quest! 
     
Level: $getUserVar[mqlvl]
$if[$getUserVar[mqrd]==true]Current Streak: $getUserVar[mqrs]]$elseif[$getUserVar[mqrd]==false]Relapse defense is currently disabled. 

To enable relapse defense, simply use the following command:
!mq reldefense$endelseif$endIf]
    $endelseif
$endIf
$if[$message[1]==guide]
   $sendMessage[Here's a list of all Main Quest commands! 📜
   
`!mq`
Use this command to register or to come back to the MainQuest HQ!

`!mq guide`
Use this command to output this information again.

`!mq clocktower`
Use this command to check the time!

`!mq settime`
Use this command to set the time!

`!mq transday
Use this command to activate, deactivate, and set the transient daily!

!mq reldefense
Use this command to toggle Relapse Defense from active to inactive or visa versa.]
$endIf
$if[$message[1]==reldefense||$message[1]==reldef||$message[1]==rd]
    $if[$message[2]!=info]
        $sendMessage[$if[$getUserVar[mqrd]==false]Relapse Defense has now been activated! Your relapses and triggers will now be recordable; and, as you record them, they will be automatically tracked for you using razors-edge computational powers. 
    
For more Relapse Defense information, please use the following command:
!mq reldef info$elseIf[$getUserVar[mqrd]==undefined]You first need to register with Main Quest before you may activate the Relapse Defense by using the following command:
!mq$endelseif$elseIf[$getUserVar[mqrd]==true]You have now deactivated relapse defense.$endelseif$endIf]
        $if[$getUserVar[mqrd]==undefined]
            $stop
        $endIf
        $if[$getUserVar[mqrd]==true]
            $setUserVar[mqrd;false]
            $elseif[$getUserVar[mqrd]==false]
                $setUserVar[mqrd;true]
                $if[$getUserVar[mqtd]==0&&$getUserVar[mqtdm]==0]
                    $setUserVar[rdbegd;$formatDate[$dateStamp]]
                    $setUserVar[rdbegt;$if[$hour>12]$sum[$hour;-12]:$minute pm$elseIf[$hour<12]$hour:$minute am$endelseif$elseif[$hour==12]12:$minute pm$endelseif$endIf]
                    $elseif[$sum[$getUserVar[mqtd];$hour]>-1&&$getUserVar[mqtdm]==0]
                        $if[$sum[$getUserVar[mqtd];$hour]>12]
                            $if[$sum[$getUserVar[mqtd];$hour]<24]
                                $if[[$getUserVar[mqtd]>14]
                                    $sendMessage[ERROR. Timezone does not exist. Please make sure that the clock tower is accurate!]
                                $endif
                                $setUserVar[rdbegd;$formatDate[$dateStamp]]
                                $setUserVar[rdbegt;$sum[$getUserVar[mqtd];-12;$hour]:$minute pm]
                            $endIf
                            $elseIf[$sum[$getUserVar[mqtd];$hour]==12]
                                $if[$getUserVar[mqtd]>14]
                                    $sendMessage[ERROR. Timezone does not exist. Please make sure that the clock tower is accurate!]
                                $endIf
                                $setUserVar[rdbegd;$formatDate[$dateStamp]]
                                $setUserVar[rdbegt;12:$minute pm]
                            $endelseIf
                            $elseIf[$sum[$getUserVar[mqtd];$hour]<12]
                                $setUserVar[rdbegd;$formatDate[$dateStamp]]
                                $setUserVar[rdbegt;$sum[$getUserVar[mqtd];$hour]:$minute am]
                            $endelseif
                        $endIf
                    $endelseIf
                    $elseIf[$sum[$getUserVar[mqtd];$hour]<0&&$getUserVar[mqtdm]==0]
                        /* Took a pause here to eat  */
                                
                                
                                
                                $endIf
                            $elseif[$sum[$getUserVar[mqtd];$hour]==12]
                            $setUserVar[rdbegt;12:$minute pm]
                            $endelseif
                            $elseif[$sum[$getUserVar[mqtd];$hour]<12]
                                $setUserVar[rdbegt;$sum[$getUserVar[mqtd];$hour]:$minute am]
                            $endelseif
                
                    
                
